---
featured: true
title: å¾Windows åˆ° Linux (Ubuntu) é–‹ç™¼ç’°å¢ƒé·ç§»ç­†è¨˜
date: 2024-12-08:01:35+08:00
thumbnail: migrate-windows-to-linux-development-environment.png
category: Infra
tags:
  - Ubuntu
  - Samba
  - Windows
  - File Sharing
  - Network Configuration
  - Linux
  - DevOps
  - Docker
  - MSSQL
  - Cloudflare
  - OpenVPN
  - UFW
description: å¾Windows åˆ° Linux (Ubuntu) é–‹ç™¼ç’°å¢ƒé·ç§»ç­†è¨˜
author: Mark Ku
slug: migrate-windows-to-linux-development-environment
---

## ç‚ºä»€éº¼é¸æ“‡ä½¿ç”¨ Linuxï¼Ÿ

Windows çš„ Docker Container ä¸»è¦æ˜¯é€šé WSL è™›æ“¬åŒ– Linux Kernelï¼Œç”±æ–¼ Windows ä½œæ¥­ç³»çµ±æœ¬èº«æœƒæ¶ˆè€—éƒ¨åˆ†è³‡æºï¼ŒåŠ ä¸Šè™›æ“¬åŒ–éç¨‹çš„è½‰æ›ï¼Œæ•ˆèƒ½ç›¸è¼ƒæ–¼åŸç”Ÿ Linux é¡¯å¾—ä¸è¶³ï¼Œç›®å‰å¤§å¤šæ•¸çš„å®¹å™¨æ‡‰ç”¨ç¨‹å¼éƒ½æ˜¯åŸºæ–¼ Linuxã€‚

æ­¤å¤–ï¼ŒWindows Docker Container çš„ç©©å®šæ€§ä¹Ÿä¸å¦‚ Linux Docker Containerï¼Œæˆ‘å€‘ç¶“å¸¸å› Docker Desktop æ›´æ–°æˆ–æ©Ÿæˆ¿æ–·é›»è€Œå‡ºç¾å•é¡Œï¼Œä¾‹å¦‚å®¹å™¨éºå¤±æˆ– Docker Engine æå£ç­‰æƒ…æ³ã€‚    

å› æ­¤ï¼Œæˆ‘æ±ºå®šå…ˆå°‡å°ç£çš„é–‹ç™¼ç’°å¢ƒï¼Œå…ˆè©¦è‘—é·åˆ°åˆ°Linux çš„é–‹ç™¼ç’°å¢ƒè©¦è©¦ï¼Œå†é€æ­¥æ›¿æ›æ‰ç”Ÿç”¢ç’°å¢ƒçš„ Windows ä¼ºæœå™¨ã€‚

## [ä¸‹è¼‰](https://ubuntu.com/download/desktop)ä¸¦å®‰è£å¸¶æœ‰ GUI çš„ Ubuntu LTS ç‰ˆæœ¬ã€‚

ç‚ºäº†é™ä½å­¸ç¿’èˆ‡ç§»è½‰é–€æª»ï¼ŒåŒæ™‚ä¾¿æ–¼ç¶­è­·ï¼Œæˆ‘å€‘é¸æ“‡äº†å¸¶æœ‰åœ–å½¢ä»‹é¢ (GUI) çš„ Ubuntu ç‰ˆæœ¬ï¼Œè®“å¤§å®¶èƒ½é€æ­¥ç†Ÿæ‚‰ Linux ç’°å¢ƒã€‚

![Ubuntu GUI](ubuntu-gui.png)

## å®‰è£é ç«¯é€£ç·šå·¥å…· - RestDesk

ç‚ºäº†æ–¹ä¾¿ç®¡ç†èˆ‡ç¶­è­·ï¼Œæˆ‘å€‘æ¶è¨­äº†ä¸€å¥—é¡ä¼¼ TeamViewer çš„é ç«¯ç®¡ç†å·¥å…· RestDeskã€‚  
ğŸ‘‰ [å¦‚ä½•æ¶è¨­ RestDesk](https://blog.markkulab.net/custom-your-remote-tool-like-team-viwer/)

## ä½¿ç”¨ Samba å¯¦ç¾ Linux èˆ‡ Windows 11 çš„æª”æ¡ˆå…±äº«

ç”±æ–¼æˆ‘å€‘çš„è³‡æ–™åº«æ˜¯ MSSQLï¼Œéœ€è¦å°‡å‚™ä»½æª”æ¡ˆå¾ Windows å‚³åˆ° Linux ä¸Šã€‚ç‚ºæ­¤ï¼Œæˆ‘å€‘è¨­å®šäº† Samba å…±äº«è³‡æ–™å¤¾ä»¥ä¾¿é›™å‘è¨ªå•ã€‚

ğŸ‘‰ [å¦‚ä½•è¨­å®š Samba](https://blog.markkulab.net/ubuntu-samba-windows11-folder-sharing/)

## å°‡ Windows çš„ MSSQL é·ç§»åˆ° Linux å®¹å™¨

MSSQL å…¶å¯¦å®¹å™¨åŒ–å¾ˆä¹…äº†ï¼ŒMicrosoft æä¾›äº†[åœ¨ Linux å®¹å™¨ä¸­é‹è¡Œ MSSQL çš„æ•™å­¸](https://learn.microsoft.com/zh-tw/sql/linux/quickstart-install-connect-docker?view=sql-server-ver16&tabs=cli&pivots=cs1-bash)ï¼Œä»¥ä¸‹æ˜¯ä¸»è¦æ­¥é©Ÿï¼š

### å•Ÿå‹•ä¸¦åŸ·è¡Œ MSSQL
```bash
docker run -e "ACCEPT_EULA=Y" -e "MSSQL_SA_PASSWORD=qwertyyy" \
   --restart always \
   -p 1433:1433 --name sql1 --hostname sql1 \
   -v /var/shared/:/var/opt/mssql/backup \
   -d \
   mcr.microsoft.com/mssql/server:2022-latest
```
ğŸ“Œ **æ³¨æ„**ï¼šå‚™ä»½è³‡æ–™å¤¾æ˜ å°„åˆ° `/var/shared/`ï¼Œå‚™ä»½æª”æ¡ˆå¯é€é SQL Server Management Studio (SSMS) é‚„åŸã€‚

### ä½¿ç”¨ [SQL Server Management Studio (SSMS) ](https://learn.microsoft.com/en-us/sql/ssms/download-sql-server-management-studio-ssms?view=sql-server-ver16)é‚„åŸè³‡æ–™åº«
SQL Server Management Studio (SSMS) åƒ…æä¾› Windows ç‰ˆæœ¬ï¼Œå› æ­¤é‚„åŸæ“ä½œéœ€åœ¨ Windows ä¸ŠåŸ·è¡Œã€‚
ä½¿ç”¨SSMS é€£ç·šåˆ°è³‡æ–™åº«ï¼Œå³éµRestoreï¼Œæ¥è‘—ä¸¦åœ¨/var/opt/mssql/backup/æ‰¾åˆ°ä½ çš„å‚™ä»½æª”
![restore db](restore.png)

## è¨­å®š OpenVPN é€£ç·š

ç”±æ–¼é–‹ç™¼ç’°å¢ƒéœ€è¦èˆ‡å…¶ä»–åœ‹å®¶åŒæ­¥è³‡æ–™ï¼Œæˆ‘å€‘åœ¨ Linux ä¸Šé…ç½®äº† OpenVPN ä¾†å¯¦ç¾ã€‚  
ğŸ‘‰ [å¦‚ä½•è¨­å®š OpenVPN](https://blog.markkulab.net/ubuntu-automatically-connect-to-openvpn-startup/)

## è¨­å®šé˜²ç«ç‰†

å…è¨±æŒ‡å®šåŸ è™Ÿé€šéé˜²ç«ç‰†ï¼š
```bash
sudo ufw allow 8080
```

## é…ç½® Docker ä¸¦å•Ÿç”¨ 2375 åŸ è™Ÿ

åœ¨ Ubuntu ä¸Šåˆå§‹å®‰è£ Docker Desktop æ™‚ç™¼ç¾ç„¡æ³•å•Ÿç”¨ 2375 åŸ è™Ÿä»¥æ”¯æ´é ç«¯ç®¡ç†ã€‚è§£æ±ºæ–¹æ³•æ˜¯å®Œå…¨ç§»é™¤ Docker å¾Œé‡æ–°å®‰è£ä¸¦æ­£ç¢ºé…ç½®ã€‚  
ğŸ‘‰ [è©³ç´°è¨­å®šæ­¥é©Ÿ](https://blog.markkulab.net/enable-docker-2375-port-in-ubuntu22/)

## å®‰è£ Cloudflare Tunnel ä¸¦è¨­å®šé–‹æ©Ÿè‡ªå‹•å•Ÿå‹•
ç‚ºäº†å°‡ä¸€äº›æ‡‰ç”¨ç¨‹å¼çµ¦å¤–éƒ¨ä½¿ç”¨ï¼Œå› æ­¤è¦å®‰è£ Cloudflare Tunnelï¼Œæ­¤ç¯‡æ˜¯é€é Docker é…ç½® Cloudflare Tunnelï¼Œä»¥ä¸‹ç‚ºæ“ä½œæ­¥é©Ÿï¼š

### åŸ·è¡Œ Docker å‘½ä»¤å•Ÿç”¨ Cloudflare Tunnel
```bash
sudo docker run --restart always cloudflare/cloudflared:latest tunnel --no-autoupdate run --token {{your-token}} --name cloudflared-tunnel
```

### å»ºç«‹é–‹æ©Ÿå•Ÿå‹•è¨­å®šæª”
ç·¨è¼¯æª”æ¡ˆ `/etc/systemd/system/cloudflared.service`ï¼š
```bash
[Unit]
Description=Cloudflared Tunnel Service
After=network.target

[Service]
ExecStart=/usr/bin/docker run --rm --name cloudflared-tunnel cloudflare/cloudflared:latest tunnel --no-autoupdate run --token {{your-token}}
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
```
å•Ÿç”¨æœå‹™ï¼š
```bash
sudo systemctl enable cloudflared.service
sudo systemctl start cloudflared.service
```
## å°‡ä¸€äº›server script è½‰æˆ linux bash è…³æœ¬
å°±ç®—ä¸ç†ŸLinux æŒ‡ä»¤ï¼Œé€échatgpt å¹«ä½ è½‰æ›ï¼Œå…¶å¯¦è »å¿«é€Ÿçš„ã€‚

## å¿ƒå¾—

é€æ­¥å°‡ Windows æ›¿æ›ç‚º Linux çš„éç¨‹ï¼Œä¸åƒ…æé«˜äº†ç³»çµ±ç©©å®šæ€§èˆ‡æ•ˆèƒ½ï¼Œä¹Ÿè®“æˆ‘å€‘æ·±å…¥äº†è§£ Linux çš„æ“ä½œé‚è¼¯ä¸¦æå‡äº†æŠ€è¡“èƒ½åŠ›ã€‚
